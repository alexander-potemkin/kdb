# Гласс Роберт - Факты и заблуждения профессионального программирования 

Annotation summary:

--- Page 40 ---



Когда нас

заставляют задумываться над работой, которую до этого мы делали авто:

матически, мы начинаем работать медленнее.

--- Page 46 ---



Среди этого шума и беспорядка, к счастью, можно услышать по:настоя:

щему объективные ответы, от которых обычно никто не получает коммер:

ческой выгоды независимо от того, к чему они приводят. И эти ответы по:

разительным образом согласуются между собой. В них фигурируют две

причины, по важности стоящие на голову выше остальных, – слабая (как

правило, слишком оптимистичная) оценка и нестабильные требования.

Первая преобладает в одних исследованиях, вторая – в других.



В индустрии ПО дело с оценками обстоит очень

плохо. В большинстве случаев наши оценки скорее напоминают желания,

чем реалистичные цели. Еще хуже, что мы, похоже, вообще не представля:

ем, как улучшить эту пагубную практику. В результате все гонятся за недо:

стижимыми целями, поставленными в ходе оценки, отчаянно срезая углы

и игнорируя хорошие практические приемы, и неизбежное отставание от

графика превращается в отставание всей технологии. 

Пытаясь сделать наши оценки совершеннее, мы испробовали все виды

подходов, кажущихся разумными. Сначала мы полагались на «экспертов»,

разработчиков ПО, которые «были здесь и делали это». Изъян этого подхо:

да заключается в его крайней субъективности. Разные люди, имеющие раз:

ный опыт «был здесь и делал это», дают разные оценки. Действительно, где

бы эти люди ни оказывались и что бы они ни делали, маловероятно, что

эти обстоятельства будут в достаточной мере соответствовать текущей за:

даче, чтобы экстраполяция оказалась корректной. 

--- Page 47 ---



Затем мы проверили алгоритмические подходы.



Ничего не получилось. Исследовате:

ли один за другим (например, Моханти [Mohanty, 1981] показали, что, если

взять гипотетический проект и заложить его данные в совокупность пред:

ложенных алгоритмических приемов, эти алгоритмы генерируют ради:

кально отличные (с коэффициентом от двух до восьми) результаты. Алго:

ритмы давали не более согласованные оценки, чем до них это делали экс:

перты. Последующие исследования с новой силой подтвердили это неуте:

шительное открытие.

--- Page 48 ---



Получается, что сейчас, в первом десятилетии двадцать первого века,

мы не знаем, что есть правильный метод, способный дать приличные

оценки и уверенность, что они действительно предсказывают, когда про:

ект завершится и какими будут затраты. Ничего себе итог.

--- Page 49 ---



В нескольких исследованиях делается вывод, что оценка – это одна из двух

главных причин неуправляемости проектов. Вот две таких работы, а еще

три приведены в разделе ссылок. 

¬ Cole, Andy. 1995. «Runaway Projects – Causes and Effects». Software

World (UK) 26, no. 3. Это наилучшее предметное исследование не:

управляемых проектов, их причин, следствий и поведения их участ:

ников. Исследователи делают вывод, что «плохое планирование

и оценка» были первыми по важности факторами в 48% проектов,

вышедших из:под контроля. 

¬ Van Genuchten, Michiel. 1991. «Why Is Software Late?» IEEE Transactions

on Software Engineering, June. Данное исследование приходит к выво:

ду, что «оптимистичная оценка» является главной причиной нару:

шения сроков выполнения в 51% проектов.

--- Page 52 ---



почти всегда за назначение нереа:

листичных сроков приходится расплачиваться. Чаще всего страдают люди

(их репутация, здоровье – как физическое, так и психическое и т. д.), но,

как следует из этой истории, можно потерять и деньги.

--- Page 56 ---



Для того чтобы управлять по плану,

надо установить оперативные и долгосрочные контрольные точки (в MS

Project они называются вехами) и определять успешность выполнения

проекта по тому, что происходит в этих контрольных точках. Вы отстали

от графика в точке 26? Плохо дело. 

А как иначе руководить программными проектами? Приведу несколько

примеров, чтобы показать, что управление по плану – это не единствен:

ный способ. 

– Можно ориентироваться на продукт. Об успешности или неуспеш:

ности проекта можно судить по тому, какая часть конечного продук:

та создана и работоспособна. 

– В управлении проектом можно ориентироваться на возникающие

проблемы. Успех или неудача определяются в зависимости от того,

как хорошо и как быстро разрешаются проблемные моменты, кото:

рые всегда возникают в ходе выполнения проекта. 

– Можно руководить, ориентируясь на риск. Критерием успеха или

неудачи могла бы стать демонстрация того, как преодолеваются

риски, определенные в начале проекта.

--- Page 57 ---



Мы могли бы руководить, ориентируясь на бизнес:цели. Об успеш:

ности можно судить по тому, насколько хорошо программный про:

дукт улучшает ведение дел.

--- Page 60 ---



Джеффри и Ло:

уренс [Jeffery, Lawrence, 1985] обнаружили, что «проекты, в которых оценка

не делалась вовсе, были лучшими в смысле продуктивности» (за ними шли

проекты, в которых оценки делали технические специалисты, а наихуд:

шие показатели были у проектов, оцениваемых менеджерами). Ландсбаум

и Гласс [Landsbaum, Glass, 1992] установили «очень сильную корреляцию

между уровнем продуктивности и чувством контроля» (т. е. когда програм:

мисты чувствовали, что распоряжаются собственной судьбой, они были

гораздо более продуктивными). Другими словами, управление, сосредото:

ченное на контроле, не обязательно делает проект лучшим или даже более

производительным.

--- Page 74 ---



Вследствие сложности, прису:

щей созданию и сопровождению значительных программных систем (мы

вернемся к этой идее в последующих фактах), модификация уже создан:

ного ПО может быть достаточно трудна. Обычно программную систему

создают в некоторой проектной среде (схема, которая одновременно дает

возможность решить задачу и ограничивает избранное решение) и в соот:

ветствии с некоторыми принципами проектирования (разные люди выби:

рают очень разные приемы реализации одного и того же программного

решения). За исключением тех случаев, когда тот, кто пробует модифици:

ровать часть программного кода, понимает эти ограничения и принимает

эти принципы, очень сложно успешно довести изменения до конца. 

Более того, часто проектная среда очень хорошо соответствует постав:

ленной задаче, но может полностью исключить решение любой задачи, ко:

торую не охватывает данная среда проектирования, подобно задаче много:

кратного использования компонента в различных предметных областях.

--- Page 81 ---



Кроме того, он проясняет и многие другие факты этой книги. 

– Почему так важен человеческий фактор? (Потому что для преодоле:

ния сложностей требуются значительные умственные способности

и мастерство.)

--- Page 82 ---



Почему так сложно оценивать? (Потому что наши решения намного

сложнее, чем выглядят наши задачи.) 

– Почему масштабное повторное использование так безуспешно?

(Потому что сложность делает проблему многообразия более выра:

женной.)



Почему так много различных корректных подходов к проектирова:

нию решения одной задачи? (Потому что пространство решений

так многогранно.) 

– Почему лучшие проектировщики выбирают итеративные и эври:

стические подходы? (Потому что простые и очевидные проектные

решения встречаются редко.) 

– Почему проектное решение редко оптимизируется? (Поскольку опти:

мизация практически невозможна ввиду значительной сложности.) 

– Почему стопроцентный уровень тестового покрытия редко возмо:

жен и в любом случае недостаточен? (Вследствие громадного числа

веток в большинстве программ и поскольку программная слож:

ность приводит к ошибкам, которые не удается отловить.)



Почему инспекция (рецензирование) является наиболее эффектив:

ным методом устранения ошибок? (Потому что нужен человек, что:

бы разложить всю эту сложность по полочкам и распознать ошибки.) 

– Почему сопровождение ПО отнимает столько времени? (Потому

что в самом начале почти никогда нельзя определить все ответвле:

ния решения задачи.) 

– Почему понять, как устроен готовый продукт, – это самая главная

и сложная задача сопровождения ПО? (Потому что существует масса

корректных методов решения любой задачи.) 

– Почему программы содержат столько ошибок? (Потому что трудно

сделать все правильно с самого начала.)

--- Page 91 ---



Трудности в данном случае обусловлены тем, что заказчики

и пользователи программного решения не совсем точно знают, какую

именно задачу требуется решить. Изначально они могут предполагать, что

знают это, а в процессе развития проекта обнаруживают, что задача, кото:

рую они собирались решать, или слишком упрощенная или нереалистич:

ная, а может выясниться что:то еще, чего они не ожидали. Кроме того, сна:

чала они и вправду могут ничего не знать и просто исследуют решения не:

ясной проблемы.

--- Page 92 ---



Вначале большинство специалис:

тов, занятых в индустрии ПО, полагало, что проблема заключена в слабом

управлении, и ее можно решить, придерживаясь изначального набора тре:

бований, настаивая при этом, что заказчикам и пользователям придется

принять то решение этой задачи, которое представит команда. Именно

в этот период компьютерные специалисты выдвинули идею формальных

спецификаций, сугубо математического способа представления этих

устойчивых требований. 

Этот прием оказался не очень эффективным. Конечное решение не со:

ответствовало ни одной из задач, стоявших перед заказчиками и пользова:

телями, и поэтому такие решения игнорировались и в конечном итоге от

них отказывались. Все потраченные на создание программных решений

деньги и время вылетали прямехонько в трубу. А вместе с ними и все эти

красивые, но чересчур строгие математические технические задания. И уж

слишком часто то же самое происходило с отношениями между заказчи:

ками и организацией:разработчиком. 

Как только разработчики осознали, что им придется приспосабливаться

к проблеме изменяющихся требований, были опробованы совершенно

иные методы решений. Была поставлена задача исследовать требования,

чтобы привести их в устойчивое состояние, и решение было найдено в соз:

дании прототипов. В соответствии с этим подходом разработчики строи:

ли пробное решение и давали пользователям возможность проверить его

на предмет соответствия их желаниям. (Применение метода создания про:

тотипа было вызвано многими причинами, но здесь мы говорим только о

его использовании для определения требований.) По мере того как стано:

вилось необходимым все более и более интенсивное участие пользовате:

лей, была разработана методология, получившая название совместной [с

пользователями] разработки приложений (Joint Application Development –

JAD). (Я никогда толком не понимал, что означает разработка в данном

контексте, т. к. мне всегда казалось, что данный метод должен называться

совместным анализом требований к приложению (Joint Application Re+

quirements Resolution – JARR).) Методы создания прототипа и JAD находят

применение и по сей день, особенно в случаях малопонятных требований.

--- Page 93 ---



Проблема нестабильных и эволюционирующих требований в индуст:

рии ПО исследуется и сейчас. Мы довольно хорошо представляем, что

с этим можно делать (см. раздел «Обсуждение» Факта 22), но не так хоро:

шо у нас получается сделать то, что мы должны. Вдобавок проекты в инду:

стрии ПО становятся все сложнее и разнообразнее, и видоизменение тре:

бований становится все обыденнее. Во многих известных проектах, вы:

шедших из:под контроля пользователи и разработчики позволили требо:

ваниям изменяться настолько стихийно, что дело так и не дошло до реше:

ния хоть какой:нибудь задачи. (Как классический пример можно назвать

автоматизированную систему оформления и обработки багажа аэропорта

Денвера [Glass, 1998], где требования были изменены так радикально, что

в конечном итоге была загублена вся работа. До сегодняшнего дня эта сис:

тема так и не была реализована в своем изначальном виде, и все авиаком:

пании в Денвере, кроме United, пользуются ручными системами.)

--- Page 107 ---



Проектирование – это сложный итеративный процесс. Первоначальное про

ектное решение, скорее, всего окажется неверным и, безусловно, не опти

мальным.

--- Page 108 ---



Данные, полученным Кертисом и Соловьем [Curtis, Soloway, 1987], сви:

детельствуют, что проектирование – это отнюдь не предсказуемый, струк:

турируемый, стандартизируемый процесс; он основан на методе проб

и ошибок и весьма запутан. И помните, что эти результаты получены при

наблюдении за работой лучших проектировщиков.

--- Page 111 ---



Программисты переходят от проектирования к кодированию тогда,

когда задача разобрана до уровня «примитивов», которыми владеет

проектировщик. Если кодировщик и проектировщик – это разные лю

ди, то примитивы проектировщика, вероятно, не будут совпадать с при

митивами кодировщика и это приведет к неприятностям.

--- Page 112 ---



По моему мнению, вследствие этого обстоятельства, разделение проект:

ной работы и кодирования обычно является ошибкой. Мак:Брин [McBre:

en, 2000] вторит мне, говоря, что «традиционное разделение труда неэф:

фективно в разработке ПО». Конечно, если задача очень велика, то выбора

может и не быть.

--- Page 113 ---



Мир веб:приложений породил целую новую культуру программирова:

ния. Проекты, обитающие в ней, малы (3 × 3 – три человека на три месяца)

и сильно ограничены временем. В этих условиях этап проектирования за:

частую отсутствует вовсе – малые проекты имеют малые проектные нужды,

и данная проблема возникает редко. Вот почему в мире гибкой разработки

ПО и экстремального программирования не найти упоминания о ней –

сторонники этих концепций в некоторых случаях даже подвергают сомне:

нию необходимость какого бы то ни было проектирования.

--- Page 117 ---



Фаза устранения ошибок – самая трудоемкая в жизненном цикле.



Но что действительно важно в данной фазе, так это то, что процесс

устранения ошибок для большинства программных продуктов требует

--- Page 118 ---



больше времени, чем сбор требований, проектирование или кодирование

решения вместе взятые – фактически примерно вдвое больше.



Данные о процентной доле времени, потраченного на устранение

ошибок, с годами менялись, но обычные цифры составляют 20–20–20–40.

То есть 20% на сбор требований, 20% на проектирование, 20% на кодирова:

ние (интуиция подсказывает большинству программистов, что время ухо:

дит именно здесь, но тут интуиция сильно ошибается) и 40 на устранение

ошибок [Glass, 1992]. (В последнее время нагрузку стараются перераспре:

делить на ранние стадии жизненного цикла, уделяя больше внимания сбо:

ру требований и проектированию, поэтому цифры, говорят, изменились

на примерно такие: 25–25–20–30.)

--- Page 119 ---



Glass, Robert L. 1992. Building Quality Software. Englewood Cliffs, NJ:

Prentice:Hall.



Оказывается, что в ПО, о котором типичный программист думает, что оно

тщательно протестированно, нередко проверено выполнение лишь 55–60%

логических путей. Применение автоматизированных средств, таких как

анализаторы покрытия, позволяет повысить эту долю примерно до 85–90%.

Протестировать 100% логических путей ПО практически невозможно.

--- Page 123 ---



Даже если бы 100%%тестовое покрытие было возможно, оно не годилось бы

на роль критерия достаточности тестирования. Примерно 35% дефектов ПО

вызвано пропущенными логическими путями и еще 40% связаны с выпол

нением уникальной комбинации логических путей. Их не выявить при 100%

покрытии тестами.

--- Page 124 ---



Анализируя эти сообще:

ния об ошибках, я обнаружил, что можно успешно выполнить каждый ло:

гический путь по отдельности, но столкнуться с тем, что некоторая комби:

нация таких логических путей окажется неправильной. Приведем баналь:

ный, но вопиющий пример: представьте, что переменная, необходимая в

одном логическом пути, правильно инициализируется во всех предшест:

вующих ему, за исключением одного. При выполнении именно этого по:

--- Page 125 ---



следнего логического пути и следующего за ним программа сработает не:

правильно. 

Это естественным образом порождает вопрос о том, как часто случают:

ся такие ошибки. Ответ, по крайней мере тот, который мне удалось найти

в изученных мною базах данных ошибок, неутешителен – «чрезвычайно

часто». Доля ошибок пропущенной логики в этих базах составила 35%.

(Действительно, в более позднем исследовании [Glass, 1981] я установил,

что значительное количество «живучих» программных ошибок – тех, ко:

торые просочились сквозь все ячейки сита тестирования и «дожили» до

стадии эксплуатации программного продукта, – принадлежит именно

к этому типу.) Ошибки комбинаторики составили, что удивительно, еще

40% Таким образом, всеобъемлющее (100%) структурное тестирование от:

нюдь не приближает нас к безошибочному ПО и представляет собой под:

ход привлекательный, но недостаточный – недостаточный с оценкой 75%

(то есть полное покрытие структурным тестированием гарантирует обна:

ружение всего лишь 25% ошибок в программном продукте).

--- Page 128 ---



Худшие последствия жестких требований графика выполнения ра:

бот проявляются ближе к концу жизненного цикла. Нередко на тес:

тирование остается слишком мало времени. Поэтому тестируют

впопыхах, пытаясь уложиться в график. Для того чтобы иметь дело

с этим инструментарием, необходимо быть внимательным до нача:

ла тестирования и прикладывать усилия во время его выполнения,

а и того и другого слишком часто просто нет.

--- Page 130 ---



Тесты редко автоматизируются. То есть определенные процессы тестиро

вания могут и должны быть автоматизированы. Но значительную часть ра

боты, связанной с тестированием, автоматизировать нельзя.

--- Page 132 ---



Тестирование, как и программирование, – задача слиш:

ком сложная для автоматизации. И это не должно мешать нам применять

инструменты, которые действительно автоматизируют выполнение тех

задач, которые могут быть автоматизированы. Но отсюда не следует, что

надо игнорировать любые заявления о том, что тестирование кем:то пол:

ностью автоматизировано.

--- Page 134 ---



Важным дополнением к инструментам тестирования является созданный

программистом встроенный отладочный код, желательно, включаемый

в объектный код в зависимости от директив компиляции.

--- Page 137 ---



В результате, хотя инспекция обходится дешевле, чем ее альтернативы,

мало где проверяют каждую строчку кода производимых программ. Итак,

мы еще раз убедились, что процесс избавления от ошибок построен на не:

которых важнейших компромиссах, то есть необходимо определить, ка:

кие участки каких фрагментов программного кода надо проверять. Ответ,

похоже, звучит так: «Критические участки критически важного кода».

А значение этого ответа, конечно, зависит от приложения.

--- Page 139 ---



Создание ПО – это сложная деятельность, чреватая ошибками.

Ошибки есть субстанция трудноуловимая и многоликая. А программисты

обладают теми же человеческими слабостями, что и все остальные. Нет се:

ребряной пули, которая избавит нас от ошибок. 

--- Page 140 ---



Вспомним: об инспекциях говорят, что они

обнаруживают до 90% ошибок в ПО (Факт 37). Вспомним, что анализ по:

крытия тестами может обеспечить охват до 90% программного продукта,

но что даже 100% покрытия тестами далеко не достаточно (Факты 32 и 33).

Вспомним, что из:за уже упоминавшегося здесь лавинообразного роста

требований 100% тестирование на их основе даже с натяжкой нельзя счи:

тать удовлетворительным методом (этот и другие подходы рассмотрены в

Факте 32). Вспомним, что автоматизация тестирования совершенно не оп:

равдала связанных с ней надежд (Факт 35). Было установлено, что фор:

мальная верификация (псевдоним доказательства корректности) так же

подвержена ошибкам, как и собственно программирование, и не годится

на роль серебряной пули как по этой, так и по другим причинам [Glass,

2002]. 

Очень многое говорит в пользу того, что устранение программных

ошибок всегда будет сложной темой.

--- Page 141 ---



Если принять во внимание все факты, изложенные выше, то наличие оши:

бок в свежевыпущенном программном продукте не должно вызывать

удивления. Как не должно вызывать удивления и то, что жизненный цикл

программного продукта не настолько безмятежен, насколько этого хоте:

лось бы всем участникам группы разработки.

И насколько удивительно, что мы как отрасль проявляем тенденцию

совершенно игнорировать такое положение. Да, мы не перестаем выиски:

вать ошибки – с помощью таких подходов, как альфа: и бета:тестирова:

ние, регрессионные тесты и т. д., обдумываем результаты и записываем

свои соображения о том, как в следующий раз сделать все это лучше.  

И каков результат? По окончании типичного программного проекта

все уроки, извлеченные из него, или отвергаются или выбрасываются

на ветер. Почему? Потому, что в безумной гонке сроков, которой охвачена

индустрия софтостроения, программисты, работающие над вчерашним

проектом, уже перебежали в проект завтрашний. А там они слишком связа:

ны требованиями нового расписания, чтобы остановиться и обдумать то,

что случилось сколько:то месяцев тому назад. 

Месяцев? Здравый смысл подсказывает, что сразу после завершения

проекта, может быть, слишком рано суммировать его уроки (потому что

многие результаты использования ПО еще неизвестны). Большинство сто:

--- Page 147 ---



Стоимость сопровождения обычно составляет от 40 до 80% (в среднем 60%)

стоимости ПО. Следовательно, эта фаза его жизненного цикла, возможно,

самая важная.



Сопровождение ПО не устает поставлять сюрпризы тем, кто не слишком

хорошо ориентируется в производстве ПО. Во:первых, есть вопрос о том,

что же в этом контексте означает слово сопровождение. В большинстве

других областей оно означает, что производитель берется ремонтировать

то, что сломалось или обветшало. Но природа ПО такова, что оно никогда

не ломается и не ветшает. Программный продукт есть субстанция неосяза:

емая, не имеющая конкретной физической формы, поэтому в нем нечему

ветшать и ломаться.

Но в программном обеспечении могут быть ошибки. Оно может быть

модифицировано с целью расширения его функциональности. (Вот отку:

да берется soft в слове software. Это очень податливый материал, отчасти

потому, что он так «нематериален».) Дело в том, что ошибки в ПО обуслов:

лены не усталостью вещества, они скорее совершаются на стадии созда:

ния или изменения программ. Таким образом, сопровождение связано

с исправлением этих ошибок по мере их обнаружения и с внесением из:

менений в ПО, когда это становится необходимо. И даже если все это зву:

чит бессмысленно для представителей других профессий, то для програм:

мистов имеет конкретный смысл.

Во:вторых, сопровождение во временном и денежном выражении об:

ходится на удивление дорого. Затраты на создание среднего программно:

го продукта составляют от 20 до 60%, а оставшиеся 40–80% приходятся

на сопровождение. (По причинам, которые станут ясными далее, мы соби:

раемся грубо оценить затраты на сопровождение как составляющие 60%

от затрат на весь жизненный цикл.) С точки зрения стоимости сопровож:

дение представляет собой доминирующую фазу разработки ПО. На его мо:

дификацию и исправление ошибок уходит уйма часов и долларов. И поэто:

му сопровождение, наверное, – самая важная фаза жизненного цикла ПО.

Это противоречит здравому смыслу, даже на взгляд программистов.

Они уверены, что в их программах ошибок нет, как уверены в том, что их

--- Page 148 ---



программы после запуска в эксплуатацию будут работать в первозданном

виде годами, если не десятилетиями. Интересной иллюстрацией роли со:

провождения может служить «проблема 2000». (Она заключалась в необ:

ходимости исправить ПО, в котором год был представлен двузначными

числами, т. к. в некоторых программах при переходе календаря с 1999 (99)

года на 2000 (00) время начинало идти вспять.) С этой проблемой было

связано два сюрприза. Первый состоял в том, насколько она оказалась все:

проникающей, а второй – в том, какими долгожителями оказались нуж:

дающиеся в исправлении программы (многие из них были созданы в 70:х

или даже 60:х годах XX века).

В качестве следствия я бы хотел привести здесь одну старую програм:

мистскую поговорку:

Старые компьютеры выходят из употребления, а старые программы вво

дятся в эксплуатацию каждый день.

--- Page 149 ---



Примерно 60% расходов на сопровождение приходится на улучшение кода

и около 17% – на исправление ошибок. Таким образом, в основном сопро

вождение и поддержка ПО заключается в добавлении в него новых воз

можностей, а не в его исправлении.



Целых 60% средств, затрачиваемых на сопровож:

дение, уходят на модификацию – изменения, преследующие цель сделать

программу более полезной. Они называются также модернизацией и, как

правило, вызваны новыми требованиями (нуждами бизнеса) – функциями

программного продукта, не учтенными при первичной разработке. (Ино:

гда это требования, реализация которых была отложена по соображениям

цены и сроков.)

--- Page 150 ---



Трудность в том, что во время пер:

вичной разработки программного продукта заказчики и будущие пользо:

ватели на самом деле лишь частично видят, что этот продукт сможет и бу:

дет для них делать. Только после того как пользователи некоторое время

поработают с продуктом, они начинают понимать, сколько еще надо в нем

изменить. И они часто требуют, чтобы эти изменения были внесены.



В этом факте больше всего удивляет то, что так мало

уходит на исправление ошибок. Исследования одно за другим показывают,

что их доля в жизненном цикле ПО упала почти что ниже уровня шума –

на исправление ошибок затрачивается лишь 17% от всех средств, уходя:

щих на сопровождение. Несмотря на все разговоры о кишащих ошибками

программах, сводка расходов на сопровождение опровергает любые заяв:

ления о том, что ПО подвержено ошибкам



Отлично, итак, 60 + 17 = 77. Куда же уходят остальные деньги? Восемна:

дцать процентов – на так называемое адаптивное сопровождение – обес:

печение работоспособности ПО в условиях изменяющейся среды. Оно

должно работать на новом компьютере, в новой операционной системе,

взаимодействовать с новыми пакетами или с новыми устройствами. За:

метьте, что эти 18% лишь на ничтожно малую величину превосходят 17%,

в каковые обходится исправление ошибок. Действительно, доля этих рас:

ходов в жизненном цикле ПО не превышает уровень шума.

Между прочим, а где еще 5%? В вездесущей графе «Прочее». Сюда, что

достаточно интересно, входят расходы на сопровождение и поддержку

ПО, призванные сделать программы более пригодными для сопровожде:

ния. (Раньше это называлось превентивным сопровождением. Позднее для

обозначения этой деятельности был изобретен термин рефакторинг

[Fowler, 1999].)

--- Page 151 ---



Правило 60/60: 60% затрат на производство ПО составляют затраты

на сопровождение, а 60% от них составляют затраты на модернизацию. Таким образом, модернизация старого ПО имеет важнейшее значение.

--- Page 152 ---



Слишком уж многие видят в сопровождении ПО неприятность, нечто

такое, что следует упразднить и даже, возможно, уничтожить. Тем самым

они демонстрируют собственное невежество. Сопровождение ПО могло

бы быть проблемой в единственном случае – если бы оно почти целиком

состояло из исправления ошибок. А мы уже видели, что это не так. Далеко

не так.

Наоборот, сопровождение дает индустрии ПО уникальное решение

проблемы «мы создали эту программу, а теперь хотим создать нечто чуть:

чуть другое». В производстве, где фигурируют материальные ресурсы, это

очень трудно. Например, тот, кто когда:нибудь перестраивал дом, знает,

насколько трудным и непредсказуемым может оказаться переделка мате:

риального продукта. 

--- Page 153 ---



Если сравнивать задачи разработки и сопровождения ПО, то они по большей

части одинаковы, – за исключением дополнительной задачи сопровожде

ния, формулируемой как «изучение сопровождаемого продукта». Она за

нимает примерно 30% времени, уходящего на сопровождение в целом,

и этот вид деятельности преобладает в сопровождении. Таким образом,

можно сказать, что сопровождение более трудоемко, чем разработка.

--- Page 154 ---



Не забудьте, что жизненный цикл разработки укладывается в формулу

20–20–20–40, где 20% приходится на требования, 20% – на проектирова:

ние, 20% – на написание кода и 40% – на устранение ошибок. Жизненный

цикл сопровождения и поддержки хотя и похож на него, но отличается

в одном важнейшем аспекте. Вот его структура, согласно Фьелстеду

и Гамлену [Fjelsted and Hamlen, 1979]:

– Определение и осмысливание изменений – 15%

– Ознакомление с документацией по продукту – 5%

– Трассировка логики – 25%

– Внесение изменений – 20%

– Тестирование и отладка –30%

– Обновление документации –5%

А теперь установим корреляцию между этими задачами и жизненным

циклом разработки:

– Определение и осмысливание (15%) соответствуют определению

требований (20%).

– Ознакомление с документацией и трассировка логики (30%) соот:

ветствуют проектированию (20%).

--- Page 155 ---



Внесение изменений (20%) аналогично написанию программного

кода (20%)

– Тестирование и отладка (30%) соответствуют устранению ошибок

(40%)

– В жизненном цикле разработки обновление документации (5%), как

правило, не фигурирует в виде отдельной задачи.

--- Page 161 ---



Работа менеджера состоит отнюдь не в том, чтобы прини:

мать на себя ответственность за достижение качества, а в том, чтобы пре:

доставить специалистам условия для работы, после чего не мешать им.



Почему мы не можем измерить качество? Потому что не только качество

с трудом поддается определению, но то же самое можно сказать и о свойст:

вах, перечисленных в Факте 46. Практически невозможно выразить в виде

числа понятность, модифицируемость, тестируемость или б льшую часть

других признаков качества. Да, мы можем выразить в числах надежность

и, до некоторой степени, эффективность, но ужасно скользкий склон, веду:

щий к измеряемости качества, не становится от этого менее скользким.

--- Page 163 ---



Под качеством в индустрии ПО понимают совокупность семи свойств,

которыми должен обладать программный продукт: переносимости (porta:

bility), надежности (reliability), эффективности (efficiency), удобства в ис:

пользовании (usability, или учета человеческого фактора), тестируемости

(testability), понятности (understandability) и модифицируемости (modifi:

ability). Разные специалисты дают этим свойствам не совсем одинаковые

названия, но данный список принят подавляющим большинством и суще:

ствует почти тридцать лет.

Каков же смысл этих свойств?

1. Переносимость означает, что программный продукт можно без тру:

да перенести на другую платформу.

1. Надежность – это свойство программного продукта надлежащим

образом выполнять свои функции.

1. Под эффективностью программного продукта понимают эконом:

ное расходование им времени и занимаемого места.

1. Принятие в расчет человеческого фактора (что называют также сло:

вом «юзабилити») подразумевает, что с программным продуктом

легко и удобно работать.

1. Тестируемость ПО есть не что иное, как свойство, характеризующее

легкость его тестирования.

1. Понятность ПО – это свойство, характеризующее, насколько легко

(или трудно) специалисту, сопровождающему программный про:

дукт, понять его работу.

1. Модифицируемым называют ПО, изменение которого не вызывает

трудностей.

--- Page 166 ---



Удовлетворение пользователя = Выполнение требований 

– своевременная поставка 

– приемлемая стоимость 

– качественный продукт

--- Page 172 ---



Больше избыточности! Повторю еще раз: я упоминаю об этом здесь пото:

му, что избыточность заслуживает возведения в ранг самостоятельного

факта, к которому мы не должны добираться попутно, влекомые к нему

другими фактами. 

В программах всегда будут необнаруженные дефекты, даже после само:

го тщательного из процессов устранения ошибок. Мы должны свести к ми:

нимуму количество и особенно серьезность этих остаточных дефектов.

Принципиально важно, говоря об ошибках в ПО, ввести понятие кри:

тичности ошибки (error severity). Критические ошибки в программных

продуктах должны быть устранены. Хорошо было бы устранить и все

остальные ошибки (например, ошибки документирования, ошибки избы:

точного кода, ошибки недоступных путей, алгоритмические ошибки, не

влияющие на вычисления), но это не всегда необходимо



От ошибок никуда не деться. Цель состоит в том, чтобы избежать критиче

ских ошибок или свести их к минимуму.

--- Page 191 ---



Обсуждение

Данное высказывание призвано указать на то, что значимость измерений

для менеджеров невозможно переоценить. Ясно, что менеджеру необхо:

димо знать ответы на такие вопросы, как «сколько стоит?», «когда?» и «с ка:

ким качеством?» В индустрии ПО образовалась целая ниша, занятая опре:

делением метрик для ПО, и новые параметры, требующие измерения (и

инструменты измерения давно известных явлений и процессов), сыплют:

ся как из рога изобилия.

В продукции этой ниши интересно то, что она не находит широкого

применения. В обзорах инструментальных средств и технологий для ме:

неджеров, работающих в сфере ПО, средства получения метрик, как пра:

вило, упоминаются ближе к концу. Конечно, есть и исключения – некото:

рые компании (например, IBM, Motorola и Hewlett:Packard) обращают

на метрики пристальное внимание. Но по большей части методы, осно:

ванные на метриках, совершенно игнорируются. Почему? Может быть, ме:

неджеры не уверены, что в этих методах есть рациональное зерно. А может

быть, какие:то необходимые данные трудно собрать.

Однако была проведена масса исследований, посвященных как выго:

дам, обусловленным метриками, так и затратам на их получение. В боль:

шинстве исследований содержались позитивные результаты. К примеру,

в исследованиях центра Годдарда было показано, что текущая стоимость

сбора необходимых метрических данных не должна превышать 3% (сбор

Заблуждение 1 Невозможно управлять тем, что невозможно измерить.

--- Page 192 ---



Спо:

собы сбора метрик начали становиться хоть сколько:нибудь рациональ:

ными, лишь когда появилась методика GQM (Goal/Question/Metric – Цель/

Вопрос/Метрика, которую первым предложил Вик Бэсили (Vic Basili)), со:

стоявшая из трех шагов: установить Цели, которых требуется достичь по:

средством сбора метрик; определить Вопросы, ответив на которые, можно

узнать, достигнуты ли Цели; и наконец собрать Метрики, позволяющие от:

ветить на эти вопросы.



есть даже список «10 важнейших» метрик ПО, на практике при:

меняемых чаще других. В качестве ответа на вопрос «Что такое метрики

ПО?» приведу следующую таблицу.

Метрики ПО Частота применения (%) 

Сколько ошибок обнаружено после выхода релиза 61

Количество изменений (или запросов на изменения) 55

Удовлетворение пользователей или покупателей 52

Количество ошибок, обнаруженных во время разработки 50

Полнота/точность документации

--- Page 193 ---



193

Возможно, что не менее интересно взглянуть на 5 метрик, замыкающих

список: 

(Эти данные взяты из работы Гетцеля [Hetzel, 1993]. Нет оснований по:

лагать, что годы, прошедшие с 1993, сильно изменили этот список, хотя

апологеты балльной оценки функциональности ПО заявляют, что в по:

следнее время этот метод стал применяться шире.)

Полемика

В постулате «невозможно управлять тем, что невозможно измерить» плохо

то, что мы только и делаем, что управляем тем, что не можем измерить, –

и поэтому данный постулат превращается в заблуждение. Мы управляем

исследованиями рака. Мы руководим проектированием программ. Какими

только процессами мы не управляем – глубоко интеллектуальными, даже

творческими, – совершенно не представляя себе, каким числами мы долж:

ны при этом руководствоваться. Хороший менеджер, руководящий работ:

никами умственного труда, стремится оценивать качественные показате:

ли, а не количественные.

Время на поиск/коррекцию ошибок 40

Распределение ошибок по типам/классам 37

Ошибки в основных функциях/функциональных 

особенностях

32

Покрытие спецификаций тестами 31

Покрытие кода тестами 31

Метрики ПО

Частота 

применения (%)

Сложность модуля/проекта 24

Количество строк программного кода 22

Объем/сложность документации 20

Количество повторно использованных строк кода 16

Оценка функциональности в баллах 10

Метрики ПО Частота применения (%)



В постулате «невозможно управлять тем, что невозможно измерить» плохо

то, что мы только и делаем, что управляем тем, что не можем измерить, –

и поэтому данный постулат превращается в заблуждение. Мы управляем

исследованиями рака. Мы руководим проектированием программ. Какими

только процессами мы не управляем – глубоко интеллектуальными, даже

творческими, – совершенно не представляя себе, каким числами мы долж:

ны при этом руководствоваться. Хороший менеджер, руководящий работ:

никами умственного труда, стремится оценивать качественные показате:

ли, а не количественные.

--- Page 194 ---



То обстоятельство, что это заблуждение, не должно, однако, заслонять

от нас скрытую в нем истину. Руководить, имея данные, намного лучше,

чем руководить, не имея данных. На самом деле числа помогают нам по:

нять суть вещей – такова природа руководителей (и людей вообще).

Мы обожаем считать очки и секунды. Мы обожаем считать голы, подборы

под корзиной и голевые передачи, изобретать термины, вроде тройного

дубля, обозначающие их комбинацию. Мы изобретаем данные даже тогда,

когда и считать:то нечего, например в фигурном катании и прыжках в во:

ду (судьи оценивают выступления спортсменов в баллах).

Факт в данном случае состоит в том, что измерения имеют важнейшее

значение для руководства, а заблуждение кроется в немного вычурном вы:

сказывании, при помощи которого мы пытаемся этот факт зафиксировать.

--- Page 223 ---



Сложность программных продуктов и процессов, связанных с ни:

ми, определяет многое из того, что мы делаем в этой области и знаем

о ней. От сложности никуда не деться, и не надо с ней бороться, ско:

рее надо научиться с ней управляться. К ней имеют отношение пят:

надцать фактов в этой книге, а некоторые факты ею определяются. 

– Убийственную роль в индустрии ПО играют неправильная оценка

и обусловленное ею давление сроков сдачи. В большинстве случаев

выход программного проекта из:под контроля связан не с плохими

методами создания ПО, а с тем, что были поставлены задачи, плохо

соотносящиеся с реальностью. С этой темой связаны десять фактов.

– Между менеджерами и программистами существует разрыв. Этим,

в частности, объясняется то, что обстоятельства, ведущие к провалу

программных проектов, вышедших из:под контроля, нередко из:

вестны заранее, но им не уделяют внимания, когда начинают проект.

Об этом разрыве говорится в пяти фактах. 

– Рекламный звон и стремление изобрести гуттаперчевый подход,

пригодный для всего на свете, подрывают нашу способность гене:

рировать разумные, сильные, ориентированные на конкретный

проект решения. Мы продолжаем поиски Святого Грааля, хотя ум:

--- Page 224 ---



ные люди говорят, что нам не удастся его найти. Этой галлюцинации

посвящены четыре факта.

--- Page 225 ---



Реальность – это убийство прекрасной теории бандой мерзких фактов.